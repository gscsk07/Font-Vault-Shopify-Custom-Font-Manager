# ============================================
# Font Vault Shopify - Production Environment
# ============================================

# üîë Shopify App Credentials
# Get these from: https://partners.shopify.com ‚Üí Apps ‚Üí Your App ‚Üí App credentials
SHOPIFY_API_KEY="your_api_key_from_partner_dashboard"
SHOPIFY_API_SECRET="your_api_secret_from_partner_dashboard"

# üåê Production App URL
# This is your Railway/Render/Fly.io app URL
# Example: https://font-vault-shopify.up.railway.app
SHOPIFY_APP_URL="https://your-production-app-url.com"

# üìú API Scopes (Required for font management)
# These match the scopes defined in shopify.app.toml
SCOPES="read_themes,write_themes,read_files,write_files"

# üóÑÔ∏è Database Configuration - SUPABASE (RECOMMENDED)
# 
# Get these from Supabase:
# 1. Go to supabase.com ‚Üí Your Project ‚Üí Settings ‚Üí Database
# 2. Copy both connection strings:
#
# DATABASE_URL = Pooled connection (Transaction/Session mode)
# Used for: Runtime queries (Prisma Client)
# Format: postgresql://postgres.xxxxx:[PASSWORD]@aws-0-us-west-1.pooler.supabase.com:5432/postgres
DATABASE_URL="postgresql://postgres.xxxxx:[YOUR-PASSWORD]@aws-0-us-west-1.pooler.supabase.com:5432/postgres"

# DIRECT_URL = Direct connection (not pooled)  
# Used for: Migrations only (Prisma Migrate)
# Format: postgresql://postgres:[PASSWORD]@db.xxxxx.supabase.co:5432/postgres
DIRECT_URL="postgresql://postgres:[YOUR-PASSWORD]@db.xxxxx.supabase.co:5432/postgres"

# Alternative: Railway/Render PostgreSQL
# Railway: Automatically provided as DATABASE_URL
# Render: Copy from database dashboard  
# If using Railway/Render, just set DATABASE_URL and omit DIRECT_URL
# DATABASE_URL="postgresql://user:password@host:5432/font_vault_db"

# Alternative: Fly.io with SQLite
# DIRECT_URL="file:/data/prod.db"

# üîß Node Environment
NODE_ENV="production"

# üî¢ Port Configuration (optional, usually auto-detected)
# Railway: Auto-detected
# Render: Auto-detected
# Fly.io: Set to 8080 in fly.toml
# PORT=3000

# üìä Optional: Error Tracking (Sentry)
# Sign up at https://sentry.io for error monitoring
# SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"

# üìà Optional: Analytics
# GOOGLE_ANALYTICS_ID="G-XXXXXXXXXX"

# ‚öôÔ∏è Optional: Custom Domain
# If you've set up a custom domain
# SHOP_CUSTOM_DOMAIN="fonts.yourapp.com"

# ============================================
# SUPABASE SETUP NOTES:
# ============================================
# 
# 1. Create free account at supabase.com
# 2. Create new project (choose region closest to users)
# 3. Copy connection strings from Settings ‚Üí Database
# 4. Make sure to replace [YOUR-PASSWORD] with actual password
# 5. Use POOLED connection for DATABASE_URL
# 6. Use DIRECT connection for DIRECT_URL
# 
# Why two URLs?
# - Pooled (DATABASE_URL): Faster, handles more connections
# - Direct (DIRECT_URL): Required for running migrations
#
# Supabase Free Tier Includes:
# ‚úÖ 500 MB database storage
# ‚úÖ Unlimited API requests  
# ‚úÖ 50,000 monthly active users
# ‚úÖ 1 GB file storage
# ‚úÖ Automatic backups (7 days)
# ‚úÖ SSL connections
# ‚úÖ No credit card required
#
# ============================================
# IMPORTANT NOTES:
# ============================================
# 
# 1. NEVER commit this file to git (.env is in .gitignore)
# 2. Set these variables in your hosting dashboard:
#    - Railway: Settings ‚Üí Variables
#    - Render: Environment ‚Üí Environment Variables  
#    - Fly.io: fly secrets set KEY=value
#
# 3. After setting variables, update shopify.app.toml
#    with your production URLs and run:
#    $ shopify app deploy
#
# 4. Test your deployment:
#    $ shopify app open
#
# ============================================
# SECURITY CHECKLIST:
# ============================================
# 
# ‚úÖ API keys are NOT hardcoded in source code
# ‚úÖ Environment variables are set in hosting dashboard
# ‚úÖ .env file is in .gitignore
# ‚úÖ DATABASE_URL uses SSL for PostgreSQL
# ‚úÖ HTTPS is enforced (hosting providers do this automatically)
# ‚úÖ No sensitive data in logs
#
# ============================================
